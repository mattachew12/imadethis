<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah|Josefin+Sans" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="navbar navbar-light bg-faded">
        <h1 class="navbar-brand">IMadeThis</h1>
        <span class="navbar-text float-xs-left">A trading space for makers.</span>
        <div class="nav navbar-nav float-xs-right">
            <div class="nav-item nav-link active" onclick="navClick('browse');">Browse</div>
            <div class="nav-item nav-link" onclick="navClick('inbox')">Inbox <span class="tag tag-info" id="unread" hidden>0</span></div>
            <div class="nav-item nav-link" onclick="navClick('history')">Order History</div>
            <div class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="opts" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Options</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="opts">
                    <h6 class="dropdown-header">Hello, [username]</h6>
                    <a class="dropdown-item" href="#">My Portfolio</a>
                    <a class="dropdown-item" href="#">Account Settings</a>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item text-danger" onclick="performLogout()">Sign Out</div>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid" id="workspace" style="margin-top:1%;">
        <form id="searcher" class="form-inline col-md-12" style="margin-bottom: 2%; display: none;">
            <input type="text" class="form-control" id="searchbar" placeholder="Search" style="width: 50%;">
            <div class="btn-group">
                <div class="dropdown open">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="cats" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Select a category...
                    </button>
                    <div class="dropdown-menu" aria-labelledby="cats">
                        <div class="dropdown-item">[Categories]</div>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Search</button>
        </form>

        <div class="col-md-3" id="message-list" style="display: none;">
            <div class="card card-block">
                <h4 class="card-title">[Name]</h4>
                <h6 class="card-subtitle text-muted">[Message Snippet ...]</h6>
            </div>
            <div class="card card-block">
                <h4 class="card-title">[Name]</h4>
                <h6 class="card-subtitle text-muted">[Message Snippet ...]</h6>
            </div>
        </div>
        <div class="card col-md-9 affix" id="messageview" style="display: none;">
            <div class=" card-block ">
                <h4 class="card-title ">[Name]</h4>
                <h6 class="card-subtitle text-muted ">[Username]</h6>
            </div>
            <hr>
            <div class="card-block " id="msg-history ">
                <div class="alert alert-info msg ">
                    <p>Aww yeah, you successfully read this important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</p>
                </div>
                <div class="msg-mine ">
                    <div class="alert alert-info ">
                        <p>Aww yeah, you successfully read this important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</p>
                    </div>
                    <div class="alert alert-info ">
                        <p>Aww yeah, you successfully read this important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</p>
                    </div>
                </div>
                <div class="alert alert-info msg ">
                    <p>Aww yeah, you successfully read this important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</p>
                </div>
                <div class="msg-mine ">
                    <div class="alert alert-info ">
                        <p>Aww yeah, you successfully read this important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</p>
                    </div>
                    <div class="alert alert-info ">
                        <p>Aww yeah, you successfully read this important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</p>
                    </div>
                </div>
            </div>
            <div class="card-block form-inline " style="width:100%; ">
                <input type="text " class="form-control " id="newmessage " placeholder="Type a message... " style="width: 90%; ">
                <button class="btn btn-primary ">Send</button>
            </div>
        </div>
    </div>

    <script>
        window.onload = function () {
            if(!window.localStorage.getItem('account')) window.location = 'login.html';
        }

        function performLogout() {
            window.localStorage.removeItem('account');
            window.location = 'login.html';
        }

        function navClick(action) {
            var xhr = new XMLHttpRequest();

            switch(action) {
            case 'browse':
                document.getElementById('searcher').setAttribute('style', 'margin-bottom: 2%;');
                document.getElementById('message-list').setAttribute('style', 'margin-bottom: 2%; display: none;');
                document.getElementById('messageview').setAttribute('style', 'margin-bottom: 2%; display: none;');
                break;
            case 'inbox':
                document.getElementById('searcher').setAttribute('style', 'margin-bottom: 2%; display: none;');
                document.getElementById('message-list').setAttribute('style', 'margin-bottom: 2%;');
                document.getElementById('messageview').setAttribute('style', 'margin-bottom: 2%;');
                break;
            case 'history':
                document.getElementById('searcher').setAttribute('style', 'margin-bottom: 2%; display: none;');
                document.getElementById('message-list').setAttribute('style', 'margin-bottom: 2%; display: none;');
                document.getElementById('messageview').setAttribute('style', 'margin-bottom: 2%; display: none;');
                break;
            }

            xhr.open('POST', '/' + action);
            xhr.send();
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js " integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7 " crossorigin="anonymous "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js " integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8 " crossorigin="anonymous "></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js " integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK " crossorigin="anonymous "></script>
</body>

</html>